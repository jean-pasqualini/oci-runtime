Exact, tu as bien repÃ©rÃ© ğŸ‘Œ

ğŸ”¹ Le fameux FD 255 de bash
â€¢	Bash ouvre son propre descripteur haut (souvent 255) dÃ¨s le dÃ©marrage.
â€¢	Ce FD est un handle supplÃ©mentaire sur le TTY de contrÃ´le (pas un pipe).
â€¢	Bash sâ€™en sert pour :
â€¢	garder un accÃ¨s direct au terminal mÃªme si lâ€™utilisateur redirige stdin/stdout/stderr,
â€¢	restaurer lâ€™Ã©tat du terminal (termios, modes de ligne) aprÃ¨s exÃ©cution de commandes interactives,
â€¢	gÃ©rer le job control (SIGTTOU, fg, bg, etc.).

En gros : FD 255 = copie de secours sur le terminal que Bash garde tout le temps ouvert.

â¸»

ğŸ”¹ Pourquoi pas un pipe ?
â€¢	Bash a besoin de parler au vrai terminal :
â€¢	pour la lecture interactive (read -e, Ã©dition de ligne),
â€¢	pour manipuler les attributs termios (dÃ©sactiver/activer echo, modes raw/canonique),
â€¢	pour envoyer/recevoir des signaux de job control.
â€¢	Un pipe anonyme ne permet ni termios, ni dâ€™Ãªtre un TTY de contrÃ´le.
â€¢	Donc il doit ouvrir /dev/tty (qui pointe vers le terminal associÃ© au process).

â¸»

ğŸ”¹ Autres shells
â€¢	dash / ash ouvrent aussi parfois un FD supplÃ©mentaire (souvent 10).
â€¢	Zsh a ses propres FDs internes pour job control.
â€¢	Bref : chaque shell interactif garde une poignÃ©e persistante sur /dev/tty.

â¸»

ğŸ”¹ RÃ©sumÃ©
â€¢	FD 255 dans Bash â‰  fuite â†’ câ€™est volontaire.
â€¢	Il pointe sur /dev/tty (ton pty) pour que Bash garde toujours une ligne directe avec le terminal, mÃªme si tu fais des redirections folles.
â€¢	Impossible avec un simple pipe, car il faut un vrai device TTY pour la gestion interactive.

â¸»

ğŸ‘‰ Donc : pas besoin de tâ€™en inquiÃ©ter ni de le fermer dans ton runtime. Câ€™est du domaine du shell, pas une fuite de ton cÃ´tÃ©.

Veux-tu que je te montre en strace le moment exact oÃ¹ Bash ouvre FD 255 au lancement ?